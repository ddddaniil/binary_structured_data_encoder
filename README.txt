Собственный формат кодирования

Описание: Мы разработаем собственный формат кодирования для Python-объектов, который будет работать с графами без циклов.

Схема кодирования:

Длина: Первые 4 байта кодируют длину объекта.
Тип: Следующий байт кодирует тип объекта:
0 - int
1 - float
2 - str
3 - bool
4 - list
5 - dict
6 - None
Данные: Остальные байты кодируют данные объекта в зависимости от его типа:
int: Используем стандартное двоичное представление.
float: Используем IEEE-754 для представления.
str: Кодируем строку в UTF-8, с предшествующим байтом, кодирующим длину строки.
bool: 0 - False, 1 - True.
list: Кодируем каждый элемент списка по отдельности, предшествуя его длиной.
dict: Кодируем пары ключ-значение, где ключ - это строка, закодированная в UTF-8, а значение кодируется рекурсивно.
None: Пустое значение.